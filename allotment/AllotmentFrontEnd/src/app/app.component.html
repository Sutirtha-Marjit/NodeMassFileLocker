<app-signin (onSigninSuccessful)="loginStatusChange($event)"  *ngIf="!signedIn">
</app-signin>
<div class="app-container dataPostModalOpen-{{dataPostModalOpen}} popupOpen-{{popupOpen}}" *ngIf="signedIn">
<div class="pic-resource-panel WText">
  <div class="scrollable">
  <header>
      <div class="row"><h3 class="brand-header" style="padding:0.65rem 0.55rem; width:100%; text-align:center;">Resource Allotment</h3></div>
      <div><small><span>{{getModifiedResourceList(false).length}} Resources left to select</span> </small> &nbsp;&nbsp;&nbsp; <a (click)="logout()" class="btn btn-sm btn-dark" href="#">Logout</a></div>
  </header>
    
   <div class="pic-container image-pool" >
     <div (click)="setCurrentObject(currentPic)" class="pic rounded" *ngFor="let currentPic of (getModifiedResourceList(false)); let $index = index;">
       <div class="bag rounded"><img  (load)="onResourceImageLoad($index)"  src="{{currentPic.sourcePath}}" class="rounded resource-box-image" /></div>
     </div>          
   </div>
   </div>  
</div>  
<div class="console-resource-panel">
    <!-- -->  
    <div class="container"> 
  <div class="row">
    
    <div class="col">
      <div class="selection-panel-header">
      <h3>Your selected resources</h3>
      <h6 >
        <span >Only <span>{{(getModifiedResourceList(true)).length}}</span> resources selected out of {{localImagePool.length}}</span>
        <a *ngIf="(getModifiedResourceList(true)).length" href="#" (click)="resetCurrentSelectedObject()">Empty List</a>
      </h6>
      </div>
      
      <div class="preview-image-container ">
        <div class="pic" *ngFor="let selectPic of (getModifiedResourceList(true))" >
            <div class="bag round">
              <img (click)="openImagePopup(selectPic)" class="img-fluid rounded"  src="{{selectPic.sourcePath}}"/>
            </div>
            <span class="cross" (click)="resetCurrentObject(selectPic)">&#x2DF;</span>
        </div>
        
      </div>      
    </div>

    <app-allotment-console (finalPostDone)="onCopyOperationComplete($event)" (finalPostStarted)="openDataPostModal($event)" (onCreateNewContainerRequest)="openCreateFolderPopup()"  [toPostResourceList]="getModifiedResourceList(true)" [allContainers]="givenContainers" class="col" *ngIf="(getModifiedResourceList(true)).length>0" ></app-allotment-console>

    <div class="w-100"></div>    
  </div>
</div>
    <!-- -->   
</div>
</div>
<app-create-resource-container (onCloseWindow)="closeCreateFolderPopup()" *ngIf="createResourceContainerPopupOpen"></app-create-resource-container>
<app-resource-zoom (click)="closeImagePopup()" [popupImageObject]="popupImageObject" *ngIf="popupOpen"></app-resource-zoom>
<app-data-post-modal *ngIf="dataPostModalOpen" (onReInitApp)="initAction()" [statusObject]="crDataPostStatusObject"></app-data-post-modal>